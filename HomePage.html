<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8"/>
<meta name="description" content="Add new health records to your HealthTrack profile. Track diseases, symptoms, prescriptions, and upload medical reports easily.">
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
<link as="style" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Inter:wght@400;500;700;900&amp;family=Noto+Sans:wght@400;500;700;900" onload="this.rel='stylesheet'" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet"/>
<title>HealthTrack Home</title>
<link href="data:image/x-icon;base64," rel="icon" type="image/x-icon"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<style type="text/tailwindcss">
        :root {
            --primary-color: #0c77f2;
            --primary-hover-color: #0a63ce;
            --secondary-bg-color: #f0f4f9;
            --secondary-text-color: #334155;
            --secondary-hover-bg-color: #e2e8f0;
        }
        .group:focus-within .group-focus-within\:block {
            display: block;
        }.dialog-backdrop {
            display: none;
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.5);
            -webkit-backdrop-filter: blur(2px);
            backdrop-filter: blur(2px);
            z-index: 40;
        }
        .dialog-content {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 50;
        }
        #share-dialog:target .dialog-backdrop,
        #share-dialog:target .dialog-content {
            display: block;
        }
    </style>
</head>
<body class="bg-slate-50 font-sans" style='font-family: Inter, "Noto Sans", sans-serif;'>
<div class="relative flex size-full min-h-screen flex-col overflow-x-hidden">
<div class="flex h-full grow flex-col">
<header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-slate-200 px-6 md:px-10 py-4">
<div class="flex items-center gap-3 text-slate-800">
<div class="w-8 h-8 text-[var(--primary-color)]">

<span class="material-icons-outlined text-3xl text-blue-600">health_and_safety</span>
</div>
<h1 class="text-slate-900 text-xl font-bold">HealthTrack</h1>
</div>
<button class="flex items-center gap-2 rounded-full p-1 transition-colors hover:bg-slate-100">
<a href="profilePage.html"><div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10" style='background-image: url("https://img.freepik.com/free-psd/3d-illustration-person-with-sunglasses_23-2149436188.jpg");'></div></a>
</button>
</header>
<main class="flex flex-1 justify-center py-10 px-4 sm:px-6 lg:px-8">
<div class="w-full max-w-2xl text-center">
<h2 class="text-3xl md:text-4xl font-bold text-slate-800 mb-8">
  Welcome back, <span id="welcome-user" class="font-semibold text-blue-700"></span>
</h2>

<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
<a class="group flex flex-col items-center justify-center rounded-lg bg-[var(--primary-color)] text-white p-6 shadow-sm transition-all duration-300 hover:bg-[var(--primary-hover-color)] hover:-translate-y-1" href="add_details.html">
<span class="material-icons text-4xl mb-2">add_circle_outline</span>
<span class="text-lg font-semibold">Add Data</span>
</a>
<a class="group flex flex-col items-center justify-center rounded-lg bg-[var(--secondary-bg-color)] text-[var(--secondary-text-color)] p-6 shadow-sm transition-all duration-300 hover:bg-[var(--secondary-hover-bg-color)] hover:-translate-y-1" href="healthHistoryPage.html">
<span class="material-icons text-4xl mb-2">history</span>
<span class="text-lg font-semibold">Show history</span>
</a>
<a class="group flex flex-col items-center justify-center rounded-lg bg-[var(--secondary-bg-color)] text-[var(--secondary-text-color)] p-6 shadow-sm transition-all duration-300 hover:bg-[var(--secondary-hover-bg-color)] hover:-translate-y-1" href="#share-dialog">
<span class="material-icons text-4xl mb-2">ios_share</span>
<span class="text-lg font-semibold">Share All Data</span>
</a>
</div>
</div>
</main>
</div>
</div>
<div id="share-dialog">
<div class="dialog-backdrop"></div>
<div aria-labelledby="dialog-title" aria-modal="true" class="dialog-content rounded-lg bg-white p-6 shadow-xl w-full max-w-md mx-auto" role="dialog">
<div class="flex justify-between items-start">
<h2 class="text-xl font-bold text-slate-800" id="dialog-title">Export Data</h2>
<a class="text-slate-500 hover:text-slate-700" href="#">
<span class="material-icons">close</span>
</a>
</div>
<p class="mt-2 text-slate-600">Select your preferred data export format.</p>
<div class="mt-6 space-y-3">
<label class="flex items-center p-4 rounded-lg border border-slate-200 cursor-pointer hover:bg-slate-50 transition-colors has-[:checked]:bg-blue-50 has-[:checked]:border-blue-500">
<input class="form-radio text-blue-600 focus:ring-blue-500" name="export_format" type="radio" value="xml"/>
<div class="ml-4">
<h3 class="font-semibold text-slate-800">XML</h3>
<p class="text-sm text-slate-500">Extensible Markup Language. Good for structured data.</p>
</div>
</label>
<label class="flex items-center p-4 rounded-lg border border-slate-200 cursor-pointer hover:bg-slate-50 transition-colors has-[:checked]:bg-blue-50 has-[:checked]:border-blue-500">
<input class="form-radio text-blue-600 focus:ring-blue-500" name="export_format" type="radio" value="pdf"/>
<div class="ml-4">
<h3 class="font-semibold text-slate-800">PDF</h3>
<p class="text-sm text-slate-500">Portable Document Format. Ideal for printing and sharing.</p>
</div>
</label>
<label class="flex items-center p-4 rounded-lg border border-slate-200 cursor-pointer hover:bg-slate-50 transition-colors has-[:checked]:bg-blue-50 has-[:checked]:border-blue-500">
<input class="form-radio text-blue-600 focus:ring-blue-500" name="export_format" type="radio" value="json"/>
<div class="ml-4">
<h3 class="font-semibold text-slate-800">JSON</h3>
<p class="text-sm text-slate-500">JavaScript Object Notation. Lightweight and easy to parse.</p>
</div>
</label>
</div>
<div class="mt-8 flex justify-end gap-3">
<a class="px-4 py-2 rounded-md text-sm font-medium text-slate-700 bg-slate-100 hover:bg-slate-200 transition-colors" href="#">Cancel</a>
<a class="px-4 py-2 rounded-md text-sm font-medium text-white bg-[var(--primary-color)] hover:bg-[var(--primary-hover-color)] transition-colors" href="#">Export</a>
</div>
</div>
</div>
<script>
window.onload = async () => {
  const token = localStorage.getItem("token");
  if (!token) return;

  try {
    const res = await fetch("https://health-app-s67i.onrender.com/api/auth/profile", {
      headers: { Authorization: `Bearer ${token}` }
    });

    if (res.ok) {
      const user = await res.json();
      document.getElementById("welcome-user").innerText = user.name;

    }
  } catch (err) {
    console.error("Failed to fetch user", err);
  }
};
</script>

</body></html>